(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{64319:function(e,t,n){Promise.resolve().then(n.bind(n,767)),Promise.resolve().then(n.bind(n,9210))},767:function(e,t,n){"use strict";n.r(t),n.d(t,{DashboardHeader:function(){return i}});var r=n(57437),o=n(93023),a=n(65883),s=n(24033),c=n(51920);function i(){let e=(0,s.useRouter)(),{user:t,logout:n}=(0,c.useAuth)();return(0,r.jsx)("header",{className:"border-b",children:(0,r.jsxs)("div",{className:"flex h-16 items-center px-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("h1",{className:"text-xl font-bold",children:"レビュー回答システム"})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:null==t?void 0:t.name}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",onClick:()=>{n(),e.push("/")},children:(0,r.jsx)(a.Z,{className:"h-5 w-5"})})]})]})})}},9210:function(e,t,n){"use strict";n.r(t),n.d(t,{DashboardNav:function(){return f}});var r=n(57437),o=n(61396),a=n.n(o),s=n(24033),c=n(39311),i=n(2882),l=n(38244),u=n(25119),d=n(98253);let h=[{name:"レビュー返答作成",href:"/dashboard/chat",icon:i.Z},{name:"出力履歴",href:"/dashboard/history",icon:l.Z},{name:"ダッシュボード",href:"/dashboard",icon:u.Z},{name:"設定中のホテル情報",href:"/dashboard/company",icon:d.Z}];function f(){let e=(0,s.usePathname)();return(0,r.jsx)("nav",{className:"hidden md:block w-64 border-r bg-muted/20 p-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"py-2",children:(0,r.jsx)("h2",{className:"px-2 text-lg font-semibold tracking-tight",children:"メニュー"})}),(0,r.jsx)("ul",{className:"space-y-2",children:h.map(t=>{let n=t.icon;return(0,r.jsx)("li",{children:(0,r.jsxs)(a(),{href:t.href,className:(0,c.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground",e===t.href?"bg-accent text-accent-foreground":"text-muted-foreground"),children:[(0,r.jsx)(n,{className:"h-4 w-4"}),t.name]})},t.name)})})]})})}},93023:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(57437),o=n(2265),a=n(67256),s=n(39213),c=n(39311);let i=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,t)=>{let{className:n,variant:o,size:s,asChild:l=!1,...u}=e,d=l?a.g7:"button";return(0,r.jsx)(d,{className:(0,c.cn)(i({variant:o,size:s,className:n})),ref:t,...u})});l.displayName="Button"},51920:function(e,t,n){"use strict";n.r(t),n.d(t,{AuthProvider:function(){return f},useAuth:function(){return m}});var r=n(57437),o=n(2265),a=n(24033),s=n(62601);let c={BASE_URL:s.env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",ENDPOINTS:{AUTH:{LOGIN:"/users/login",LOGOUT:"/users/logout",ME:"/users/me"},REVIEWS:{BASE:"/reviews",DETAIL:e=>"/reviews/".concat(e)},HOTELS:{INFO:e=>"/hotels/".concat(e),CUSTOM_INFO:e=>"/hotels/".concat(e,"/custom-info")}}};async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=localStorage.getItem("token"),r={"Content-Type":"application/json",...n&&{Authorization:"Bearer ".concat(n)},...t.headers},o=await fetch("".concat(c.BASE_URL).concat(e),{...t,headers:r});if(!o.ok){let e=await o.json();throw Error(e.message||"API request failed")}return o.json()}async function l(e,t){return i(c.ENDPOINTS.AUTH.LOGIN,{method:"POST",body:JSON.stringify({email:e,password:t})})}async function u(){return i(c.ENDPOINTS.AUTH.ME)}async function d(){return i(c.ENDPOINTS.AUTH.LOGOUT,{method:"POST"})}let h=(0,o.createContext)({user:null,login:async()=>{},logout:async()=>{},isLoading:!0});function f(e){let{children:t}=e,[n,s]=(0,o.useState)(null),[c,i]=(0,o.useState)(!0),f=(0,a.useRouter)();(0,o.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("token");if(!e){i(!1);return}try{let e=await u();s(e),f.push("/dashboard")}catch(e){localStorage.removeItem("token")}finally{i(!1)}};e()},[f]);let m=async(e,t)=>{let{user:n,token:r}=await l(e,t);localStorage.setItem("token",r),s(n),f.push("/dashboard")},g=async()=>{try{await d()}finally{s(null),localStorage.removeItem("token"),f.push("/login")}};return(0,r.jsx)(h.Provider,{value:{user:n,login:m,logout:g,isLoading:c},children:t})}let m=()=>(0,o.useContext)(h)},39311:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(57042),o=n(74769);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m6)((0,r.W)(t))}}},function(e){e.O(0,[449,852,971,864,744],function(){return e(e.s=64319)}),_N_E=e.O()}]);