(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{3778:function(e,t,s){Promise.resolve().then(s.bind(s,14866))},14866:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var r=s(57437),n=s(86110),a=s(2882),i=s(23157),l=s(55340),d=s(9884);s(2265);var c=s(39213),o=s(39311);let u=(0,c.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,o.cn)(u({variant:s}),t),...n})}var m=s(45253),x=s(44876),h=s(16573),p=s(24235),g=s(50039),j=s(86812),v=s(11399);function N(){let{reviews:e}=(0,d.D)(),t=Array.from({length:5},(t,s)=>({rating:s+1,count:e.filter(e=>e.rating===s+1).length})),s=e.length>0?(e.reduce((e,t)=>e+t.rating,0)/e.length).toFixed(1):"0.0";e.filter(e=>e.rating<=2),e.filter(e=>e.rating>=4);let a=["清掃","接客","サービス","設備","騒音","待ち時間","予約","料金","空調","Wi-Fi"].filter(()=>Math.random()>.5),i=["スタッフの対応","清潔感","立地","眺望","朝食","アメニティ","温泉","サービス","快適","静か"].filter(()=>Math.random()>.5);return(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{children:(0,r.jsx)(n.ll,{className:"text-lg",children:"評価分布"})}),(0,r.jsxs)(n.aY,{children:[(0,r.jsx)("div",{className:"h-[300px] mt-4",children:(0,r.jsx)(m.h,{width:"100%",height:"100%",children:(0,r.jsxs)(x.v,{data:t,children:[(0,r.jsx)(h.q,{strokeDasharray:"3 3"}),(0,r.jsx)(p.K,{dataKey:"rating"}),(0,r.jsx)(g.B,{allowDecimals:!1}),(0,r.jsx)(j.u,{}),(0,r.jsx)(v.$,{dataKey:"count",fill:"hsl(var(--primary))"})]})})}),(0,r.jsxs)("div",{className:"mt-4 text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"平均評価"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-2xl font-bold",children:[(0,r.jsx)(l.Z,{className:"h-6 w-6 text-yellow-500 fill-current"}),s]})]})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{children:(0,r.jsx)(n.ll,{className:"text-lg",children:"レビュー特徴分析"})}),(0,r.jsxs)(n.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 text-yellow-500 fill-current"}),"高評価の特徴"]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>(0,r.jsx)(f,{variant:"secondary",children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 text-yellow-500"}),"低評価の特徴"]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map(e=>(0,r.jsx)(f,{variant:"outline",children:e},e))})]}),(0,r.jsxs)("div",{className:"pt-4 border-t",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"回答担当者"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Array.from(new Set(e.map(e=>e.respondentName))).map(t=>(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:t}),(0,r.jsxs)("span",{className:"text-muted-foreground ml-2",children:["(",e.filter(e=>e.respondentName===t).length,"件)"]})]},t))})]})]})]})]})}function y(){let{reviews:e}=(0,d.D)(),t=e.filter(e=>"draft"===e.status).length,s=e.filter(e=>"completed"===e.status).length,l=[{title:"AI回答数",value:t.toString(),icon:a.Z,description:"生成されたAI回答の総数"},{title:"チェック済み数",value:s.toString(),icon:i.Z,description:"確認済みの回答数"}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"ダッシュボード"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"システムの概要と統計情報を確認できます"})]}),(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:l.map(e=>{let t=e.icon;return(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ll,{className:"text-sm font-medium",children:e.title}),(0,r.jsx)(t,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.title)})}),(0,r.jsx)(N,{})]})}},86110:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return d}});var r=s(57437),n=s(2265),a=s(39311);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});d.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});o.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})});u.displayName="CardFooter"},62621:function(e,t,s){"use strict";s.d(t,{pm:function(){return f}});var r=s(2265);let n=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],c={toasts:[]};function o(e){c=l(c,e),d.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,t]=r.useState(c);return r.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},23699:function(e,t,s){"use strict";s.d(t,{_:function(){return r},d:function(){return n}});let r=[{id:"1",content:"部屋は清潔でしたが、チェックインに時間がかかりすぎました。",rating:3,date:"2024-03-14",status:"completed",aiResponse:"この度はご不便をおかけし、申し訳ございませんでした。チェックイン時の待ち時間短縮に向けて、手続きの効率化を進めております。今後ともご愛顧賜りますようお願い申し上げます。",editedResponse:"この度はご不便をおかけし、誠に申し訳ございませんでした。チェックイン時の待ち時間短縮は当ホテルの重要課題として認識しており、現在手続きの効率化を進めております。お客様のご指摘を真摯に受け止め、より良いサービスの提供に努めてまいります。今後ともご愛顧賜りますようお願い申し上げます。",respondentName:"山田太郎"}],n=[{id:"1",category:"営業時間",items:[{id:"1-1",value:"24時間営業"},{id:"1-2",value:"レストラン: 6:00-23:00"},{id:"1-3",value:"スパ: 10:00-22:00"}]},{id:"2",category:"温泉情報",items:[{id:"2-1",value:"白銀の湯 (内湯)"},{id:"2-2",value:"満月の湯 (露天風呂)"},{id:"2-3",value:"効能: 神経痛、筋肉痛"}]}]},9884:function(e,t,s){"use strict";s.d(t,{D:function(){return l}});var r=s(2265),n=s(62621);async function a(e,t){let s={high:"お客様より高評価をいただき、誠にありがとうございます。スタッフ一同、さらなるサービス向上に努めてまいります。またのお越しを心よりお待ちしております。",medium:"この度はご利用いただき、ありがとうございます。お客様のご意見を参考に、より良いサービスの提供に努めてまいります。",low:"この度はご不便をおかけし、誠に申し訳ございませんでした。お客様のご指摘を真摯に受け止め、改善に取り組んでまいります。"};return t>=4?s.high:t<=2?s.low:s.medium}var i=s(23699);function l(){let[e,t]=(0,r.useState)(i._),[s,l]=(0,r.useState)(null),{toast:d}=(0,n.pm)(),c=async e=>{let s={id:"review-".concat(Date.now()),content:e.content,rating:e.rating,date:new Date().toISOString().split("T")[0],status:"draft",respondentName:e.respondentName},r=await a(e.content,e.rating),n={...s,aiResponse:r,editedResponse:r};return t(e=>[n,...e]),l(n),d({title:"AI回答が生成されました",description:"回答を確認・編集してください"}),n};return{reviews:e,selectedReview:s,setSelectedReview:l,createReview:c,saveReview:function(e,s){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={...e,editedResponse:s,status:r?"completed":e.status};t(t=>t.map(t=>t.id===e.id?n:t)),l(n),d({title:r?"チェックが完了しました":"回答を保存しました",description:r?"チェック済みタブから確認できます":"回答が更新されました"})}}}},39311:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var r=s(57042),n=s(74769);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[449,968,971,864,744],function(){return e(e.s=3778)}),_N_E=e.O()}]);