"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{23618:function(e,t,s){s.d(t,{L:function(){return m}});var n=s(57437),r=s(2265),a=s(93023),i=s(55771),o=s(55340),d=s(6141),l=s(53905),c=s(23157),u=s(82549),f=s(62442);function m(e){let{review:t,onSaveEdit:s}=e,[m,p]=(0,r.useState)(!1),[x,h]=(0,r.useState)(t.editedResponse||t.aiResponse||""),g=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s(t,x,e),p(!1)};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"レビュー内容"}),(0,n.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,n.jsx)("div",{className:"flex items-center gap-1 text-yellow-500",children:Array.from({length:5}).map((e,s)=>(0,n.jsx)(o.Z,{className:"h-4 w-4 ".concat(s<t.rating?"fill-current":"stroke-current")},s))}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4"}),t.date]})]}),(0,n.jsx)("p",{className:"text-sm",children:t.content})]})]}),t.aiResponse&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"AI生成回答"}),(0,n.jsx)("div",{className:"bg-muted/50 p-4 rounded-lg",children:(0,n.jsx)("p",{className:"text-sm",children:t.aiResponse})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("h4",{className:"font-semibold",children:"編集済み回答"}),(0,n.jsxs)("div",{className:"flex gap-2",children:[!m&&"draft"===t.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.z,{variant:"outline",size:"sm",onClick:()=>p(!0),children:[(0,n.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"編集"]}),(0,n.jsxs)(a.z,{variant:"secondary",size:"sm",onClick:()=>{s(t,t.editedResponse||t.aiResponse||"",!0)},children:[(0,n.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"チェック"]})]}),!m&&"completed"===t.status&&(0,n.jsxs)(a.z,{variant:"outline",size:"sm",onClick:()=>p(!0),children:[(0,n.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"再編集"]})]})]}),m?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(i.g,{value:x,onChange:e=>h(e.target.value),className:"min-h-[200px]"}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsxs)(a.z,{variant:"outline",size:"sm",onClick:()=>{p(!1),h(t.editedResponse||t.aiResponse||"")},children:[(0,n.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"キャンセル"]}),(0,n.jsxs)(a.z,{size:"sm",onClick:()=>g(!1),children:[(0,n.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"保存"]})]})]}):(0,n.jsx)("div",{className:"bg-muted p-4 rounded-lg",children:(0,n.jsx)("p",{className:"text-sm",children:t.editedResponse||t.aiResponse})})]})]})}},93023:function(e,t,s){s.d(t,{z:function(){return l}});var n=s(57437),r=s(2265),a=s(67256),i=s(39213),o=s(39311);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:l=!1,...c}=e,u=l?a.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(d({variant:r,size:i,className:s})),ref:t,...c})});l.displayName="Button"},86110:function(e,t,s){s.d(t,{Ol:function(){return o},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var n=s(57437),r=s(2265),a=s(39311);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...r})});o.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...r})});l.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},55771:function(e,t,s){s.d(t,{g:function(){return i}});var n=s(57437),r=s(2265),a=s(39311);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});i.displayName="Textarea"},62621:function(e,t,s){s.d(t,{pm:function(){return f}});var n=s(2265);let r=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=o(l,e),d.forEach(e=>{e(l)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||n()}}}),{id:s,dismiss:n,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,t]=n.useState(l);return n.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},23699:function(e,t,s){s.d(t,{_:function(){return n},d:function(){return r}});let n=[{id:"1",content:"部屋は清潔でしたが、チェックインに時間がかかりすぎました。",rating:3,date:"2024-03-14",status:"completed",aiResponse:"この度はご不便をおかけし、申し訳ございませんでした。チェックイン時の待ち時間短縮に向けて、手続きの効率化を進めております。今後ともご愛顧賜りますようお願い申し上げます。",editedResponse:"この度はご不便をおかけし、誠に申し訳ございませんでした。チェックイン時の待ち時間短縮は当ホテルの重要課題として認識しており、現在手続きの効率化を進めております。お客様のご指摘を真摯に受け止め、より良いサービスの提供に努めてまいります。今後ともご愛顧賜りますようお願い申し上げます。",respondentName:"山田太郎"}],r=[{id:"1",category:"営業時間",items:[{id:"1-1",value:"24時間営業"},{id:"1-2",value:"レストラン: 6:00-23:00"},{id:"1-3",value:"スパ: 10:00-22:00"}]},{id:"2",category:"温泉情報",items:[{id:"2-1",value:"白銀の湯 (内湯)"},{id:"2-2",value:"満月の湯 (露天風呂)"},{id:"2-3",value:"効能: 神経痛、筋肉痛"}]}]},9884:function(e,t,s){s.d(t,{D:function(){return o}});var n=s(2265),r=s(62621);async function a(e,t){let s={high:"お客様より高評価をいただき、誠にありがとうございます。スタッフ一同、さらなるサービス向上に努めてまいります。またのお越しを心よりお待ちしております。",medium:"この度はご利用いただき、ありがとうございます。お客様のご意見を参考に、より良いサービスの提供に努めてまいります。",low:"この度はご不便をおかけし、誠に申し訳ございませんでした。お客様のご指摘を真摯に受け止め、改善に取り組んでまいります。"};return t>=4?s.high:t<=2?s.low:s.medium}var i=s(23699);function o(){let[e,t]=(0,n.useState)(i._),[s,o]=(0,n.useState)(null),{toast:d}=(0,r.pm)(),l=async e=>{let s={id:"review-".concat(Date.now()),content:e.content,rating:e.rating,date:new Date().toISOString().split("T")[0],status:"draft",respondentName:e.respondentName},n=await a(e.content,e.rating),r={...s,aiResponse:n,editedResponse:n};return t(e=>[r,...e]),o(r),d({title:"AI回答が生成されました",description:"回答を確認・編集してください"}),r};return{reviews:e,selectedReview:s,setSelectedReview:o,createReview:l,saveReview:function(e,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={...e,editedResponse:s,status:n?"completed":e.status};t(t=>t.map(t=>t.id===e.id?r:t)),o(r),d({title:n?"チェックが完了しました":"回答を保存しました",description:n?"チェック済みタブから確認できます":"回答が更新されました"})}}}},39311:function(e,t,s){s.d(t,{cn:function(){return a}});var n=s(57042),r=s(74769);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,n.W)(t))}}}]);